<!DOCTYPE html>
<html>
<head>
  <title>Cleaner Services</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }

    .service-card {
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 20px;
      position: relative;
    }

    .editBtn {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 6px 10px;
      cursor: pointer;
    }

    .editBtn:hover {
      background-color: #45a049;
    }

    .hidden { display: none; }

    label {
      font-weight: bold;
    }

    input, textarea, select {
      width: 100%;
      padding: 6px;
      margin-top: 5px;
      margin-bottom: 10px;
    }

    .button-row {
      display: flex;
      gap: 10px;
    }

    .button-row button {
      flex: 1;
      padding: 8px;
      border: none;
      cursor: pointer;
    }

    .updateBtn {
      background-color: #2196F3;
      color: white;
    }

    .deleteBtn {
      background-color: #f44336;
      color: white;
    }
  </style>
</head>
<body>

  <h2>My Services</h2>
  <div id="serviceList"></div>

  <script>
    // Sample service data
    let services = [
      {
        id: 1,
        name: "General Cleaning",
        description: "2-hour full house cleaning.",
        date: "2025-05-10",
        time: "10:00",
        location: "123 Main Street",
        price: "80.00",
        category: "Support"
      },
      {
        id: 2,
        name: "Window Washing",
        description: "Thorough cleaning of all home windows.",
        date: "2025-05-12",
        time: "15:00",
        location: "456 Oak Avenue",
        price: "120.00",
        category: "Support"
      }
    ];

    function renderServices() {
      const list = document.getElementById('serviceList');
      list.innerHTML = '';

      services.forEach(service => {
        const card = document.createElement('div');
        card.className = 'service-card';
        card.id = `service-${service.id}`;

        // View mode
        const view = document.createElement('div');
        view.className = 'view-mode';
        view.innerHTML = `
          <button class="editBtn" onclick="toggleEdit(${service.id})">Edit</button>
          <h3>${service.name}</h3>
          <p><strong>Description:</strong> ${service.description}</p>
          <p><strong>Date:</strong> ${service.date}</p>
          <p><strong>Time:</strong> ${service.time}</p>
          <p><strong>Location:</strong> ${service.location}</p>
          <p><strong>Price:</strong> $${service.price}</p>
          <p><strong>Category:</strong> ${service.category}</p>
        `;

        // Edit mode
        const edit = document.createElement('form');
        edit.className = 'edit-mode hidden';
        edit.onsubmit = (e) => {
          e.preventDefault();
          updateService(service.id, edit);
        };
        edit.innerHTML = `
          <label>Service Name:</label>
          <input type="text" name="name" value="${service.name}">
          <label>Description:</label>
          <textarea name="description">${service.description}</textarea>
          <label>Date:</label>
          <input type="date" name="date" value="${service.date}">
          <label>Time:</label>
          <input type="time" name="time" value="${service.time}">
          <label>Location:</label>
          <input type="text" name="location" value="${service.location}">
          <label>Price:</label>
          <input type="number" name="price" step="0.01" value="${service.price}">
          <label>Category:</label>
          <select name="category">
            <option value="consulting" ${service.category === 'consulting' ? 'selected' : ''}>Consulting</option>
            <option value="training" ${service.category === 'training' ? 'selected' : ''}>Training</option>
            <option value="support" ${service.category === 'Support' ? 'selected' : ''}>Support</option>
          </select>
          <div class="button-row">
            <button type="submit" class="updateBtn">Update</button>
            <button type="button" class="deleteBtn" onclick="deleteService(${service.id})">Delete</button>
          </div>
        `;

        card.appendChild(view);
        card.appendChild(edit);
        list.appendChild(card);
      });
    }

    function toggleEdit(id) {
      const card = document.getElementById(`service-${id}`);
      const view = card.querySelector('.view-mode');
      const edit = card.querySelector('.edit-mode');
      view.classList.toggle('hidden');
      edit.classList.toggle('hidden');
    }

    function updateService(id, form) {
      const index = services.findIndex(s => s.id === id);
      const formData = new FormData(form);
      const updated = Object.fromEntries(formData.entries());
      services[index] = { id, ...updated };

      alert('Service updated!');
      renderServices(); // Re-render with updated data
    }

    function deleteService(id) {
      if (confirm("Are you sure you want to delete this service?")) {
        services = services.filter(s => s.id !== id);
        alert("Service deleted.");
        renderServices();
      }
    }

    // Initial render
    renderServices();
  </script>
</body>
</html>
